<Window x:Class="Owmeta.Display.OverlayWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:Owmeta.Display"
        Title="Game Overlay"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterScreen">

    <!-- Outer Grid takes full window size -->
    <Grid>
        <!-- Centered content with uniform scaling -->
        <Viewbox x:Name="MainViewbox"
                 Width="{Binding ActualWidth, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource ScaleConverter}, ConverterParameter=0.5625}"
                 Height="{Binding ActualHeight, RelativeSource={RelativeSource AncestorType=Window}, Converter={StaticResource ScaleConverter}, ConverterParameter=0.5625}"
                 Stretch="Uniform">
            <!-- Fixed reference size container - now using 2K resolution -->
            <Grid Width="2560" Height="1440"
                  Background="transparent">
                <Grid x:Name="MainGrid">
                    <!-- F2 Layout - Swap Suggestions -->
                    <Grid x:Name="SwapLayout" Visibility="Hidden">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Left Panel - Blue Team Composition -->
                        <Border Grid.Column="0"
                                Grid.Row="1"
                                Background="Transparent"
                                VerticalAlignment="Top"
                                Margin="27,20,13,0">
                            <local:TeamCompositionPanel x:Name="BlueTeamPanel" IsBlueTeam="True" IsCompact="True"/>
                        </Border>

                        <!-- Right Panel - Red Team Composition -->
                        <Border Grid.Column="2"
                                Grid.Row="1"
                                Background="Transparent"
                                VerticalAlignment="Top"
                                Margin="13,20,27,0">
                            <local:TeamCompositionPanel x:Name="RedTeamPanel" IsBlueTeam="False" IsCompact="True"/>
                        </Border>

                        <!-- Swap Suggestions Panel -->
                        <Border Grid.Row="2" Grid.ColumnSpan="3"
                                Background="Transparent"
                                VerticalAlignment="Top"
                                Margin="27,16,27,0">
                            <local:SwapSuggestionsPanel x:Name="SwapSuggestionsPanel"/>
                        </Border>

                        <!-- Data Freshness Indicator (Bottom right) -->
                        <Border Grid.Row="3" Grid.Column="2"
                                Background="Transparent"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Right"
                                Margin="0,10,27,0">
                            <local:DataFreshnessIndicator x:Name="DataFreshnessIndicator"/>
                        </Border>
                    </Grid>

                    <!-- F3 Layout - Composition Dashboard -->
                    <Grid x:Name="CompositionLayout" Visibility="Hidden">
                        <Border Background="Transparent"
                                VerticalAlignment="Top"
                                HorizontalAlignment="Stretch"
                                Margin="27,20,27,0">
                            <local:CompositionDashboard x:Name="CompositionDashboard"/>
                        </Border>
                    </Grid>
                </Grid>
            </Grid>
        </Viewbox>
    </Grid>
</Window>